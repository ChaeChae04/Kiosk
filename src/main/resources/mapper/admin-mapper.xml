<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="edu.sungil.foods.web.domain.AdminMapper">
    <insert id="insertMenu" parameterType="edu.sungil.foods.web.domain.dto.MenuInfo">
       	insert into TB_MENU
       	(	MENU_NM, 
       		MENU_PRC, 
       		MENU_DESC,
       		MENU_STOCK_QTY, 
       		MENU_DISP_YN, 
       		MANU_IMG_NM) values 
       		(
       			#{menuNm},
       			#{menuPrc},
       			#{menuDesc},
       			#{menuStockQty},
       			#{menuDispYn},
       			#{fileNm}
       		)
    </insert>
	
	<select id="selectMenuList" resultType="edu.sungil.foods.web.domain.dto.MenuInfo" parameterType="edu.sungil.foods.web.domain.dto.SchMenuInfo">
		SELECT MENU_NO, 
			   MENU_NM, 
	       	   MENU_PRC, 
	       	   MENU_DESC,
	       	   MENU_STOCK_QTY, 
	       	   MENU_DISP_YN
	    FROM TB_MENU
	    WHERE 1=1
	    <if test="menuNo !='' and menuNo !=null">
	    	and menu_no = #{menuNo}
	    </if>
	     <if test="menuNm !='' and menuNm !=null">
	    	and menu_no like CONCAT('%', #{menuNm} ,'%')
	    </if>
	    
	</select>
</mapper> 